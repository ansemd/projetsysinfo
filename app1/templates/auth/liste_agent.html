<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>Liste des agents</title>
</head>
<body>
    <h1>ğŸ‘¥ Liste des agents utilisateurs</h1>
    
    <a href="{% url 'home' %}"><button>â† Retour</button></a>
    <a href="{% url 'ajouter_agent' %}"><button style="background: #28a745; color: white;">â• Ajouter un agent</button></a>
    
    <hr>
    
    <h3>Total : {{ agents.count }} agent(s)</h3>
    
    <table border="1" cellpadding="10" style="margin-top: 20px;">
        <thead>
            <tr style="background: #f0f0f0;">
                <th>PrÃ©nom</th>
                <th>Nom</th>
                <th>Username</th>
                <th>Mot de passe</th>
                <th>Email</th>
                <th>TÃ©lÃ©phone</th>
                <th>Responsable</th>
                <th>Date crÃ©ation</th>
            </tr>
        </thead>
        <tbody>
            {% for agent in agents %}
            <tr>
                <td>{{ agent.first_name }}</td>
                <td>{{ agent.last_name }}</td>
                <td><strong>{{ agent.username }}</strong></td>
                <td>
                    <span style="background: #fffacd; padding: 5px; font-family: monospace;">
                        âš ï¸ Mot de passe hashÃ© (non visible)
                    </span>
                </td>
                <td>{{ agent.email }}</td>
                <td>{{ agent.telephone }}</td>
                <td>
                    {% if agent.is_responsable %}
                        âœ… Oui
                    {% else %}
                        âŒ Non
                    {% endif %}
                </td>
                <td>{{ agent.date_creation|date:"d/m/Y H:i" }}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
    
    <p style="margin-top: 20px; color: #666;">
        âš ï¸ <strong>Note importante :</strong> Les mots de passe sont hashÃ©s dans la base de donnÃ©es pour des raisons de sÃ©curitÃ©. 
        Ils ne peuvent pas Ãªtre affichÃ©s en clair aprÃ¨s crÃ©ation. Notez-les lors de la crÃ©ation de l'agent.
    </p>
</body>
</html>