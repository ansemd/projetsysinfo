<form method="post" id="agentForm">
    {% csrf_token %}
    
    <div class="form-group">
        <label for="first_name">Prénom *</label>
        <input type="text" name="first_name" id="first_name" required>
    </div>
    
    <div class="form-group">
        <label for="last_name">Nom *</label>
        <input type="text" name="last_name" id="last_name" required>
    </div>
    
    <div class="form-group">
        <label for="email">Email *</label>
        <input type="email" name="email" id="email" required>
    </div>
    
    <div class="form-group">
        <label for="telephone">Téléphone *</label>
        <input type="tel" name="telephone" id="telephone" required>
    </div>
    
    <div class="info-box">
        <strong>ℹ️ Information :</strong><br>
        Le nom d'utilisateur et le mot de passe seront générés automatiquement.<br>
        <strong>⚠️ Important :</strong> Notez bien les identifiants qui seront affichés après la création !
    </div>
    
    <button type="submit" id="submitBtn" class="btn btn-primary">✅ Créer l'agent</button>
    <a href="{% url 'liste_agents' %}" class="btn btn-secondary">Annuler</a>
</form>

<script>
    // Empêcher les double-clics
    document.getElementById('agentForm').addEventListener('submit', function(e) {
        const btn = document.getElementById('submitBtn');
        btn.disabled = true;
        btn.textContent = '⏳ Création en cours...';
        btn.style.opacity = '0.6';
    });
</script>